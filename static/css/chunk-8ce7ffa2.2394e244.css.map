{"version":3,"sources":["webpack:///src/components/src/components/Loader.vue","webpack:///src/components/src/components/ProductCard.vue","webpack:///src/components/Basket/src/components/Basket/BasketItem.vue","webpack:///src/components/Basket/src/components/Basket/Form.vue","webpack:///src/components/D:/dev_projects/Axis/beauty/client/src/components/ToBasketLink.vue","webpack:///src/views/src/views/Shop.vue"],"names":[],"mappings":"AAiBA,iCACA,iBAAA,CACA,UAAA,CACA,WAAA,CACA,eAAA,CACA,YAAA,CACA,sBAAA,CACA,kBACA,CACA,+BACA,oBAAA,CACA,iBAAA,CACA,UAAA,CACA,WACA,CAEA,mCACA,oBAAA,CACA,iBAAA,CACA,QAAA,CACA,UAAA,CACA,kBAAA,CACA,oFAAA,CAAA,4EACA,CAEA,+CACA,QAAA,CACA,6BAAA,CAAA,qBACA,CAEA,gDACA,SAAA,CACA,6BAAA,CAAA,qBACA,CAEA,gDACA,SAAA,CACA,yBAAA,CAAA,iBACA,CAEA,gDACA,GACA,OAAA,CACA,WACA,CACA,OACA,QAAA,CACA,WACA,CACA,CATA,wCACA,GACA,OAAA,CACA,WACA,CACA,OACA,QAAA,CACA,WACA,CACA,CCOA,4BACA,cACA,CACA,qDACA,UACA,CACA,+BACA,uBACA,CACA,yBACA,iBAAA,CACA,KAAA,CACA,QAAA,CACA,OAAA,CACA,MAAA,CACA,+BAAA,CACA,UAAA,CACA,YACA,CCjCA,sCACA,uBAAA,CACA,iBACA,CACA,yBACA,iBAAA,CACA,KAAA,CACA,QAAA,CACA,OAAA,CACA,MAAA,CACA,+BAAA,CACA,UACA,CCYA,+BACA,iBACA,CAEA,yBACA,iBAAA,CACA,KAAA,CACA,QAAA,CACA,OAAA,CACA,MAAA,CACA,+BAAA,CACA,UACA,CCzEA,uBACE,iBAAkB,CAAG,qBAErB,UAAW,CACX,WAAY,CACZ,iBAAkB,CAClB,OAAQ,CAAG,uBAEX,gBAAiB,CACjB,cAAe,CAAG,wBAElB,iBAAkB,CAClB,WAAY,CACZ,UAAW,CACX,iBAAkB,CAClB,wBAAyB,CACzB,UAAW,CACX,WAAY,CACZ,iBAAkB,CAClB,cAAe,CACf,eAAiB,CACjB,UAAW,CAAG,mBAEd,kBAAmB,CACnB,aAAc,CCqGhB,yBACA,kBACA,CAEA,8BACA,eACA,CAEA,kCACA,iBAAA,CACA,KAAA,CACA,QAAA,CACA,OAAA,CACA,MAAA,CACA,+BAAA,CACA,UACA,CAEA,gCACA,iBACA,CAEA,wCACA,UACA","file":"chunk-8ce7ffa2.2394e244.css","sourcesContent":["<template>\r\n  <div class=\"loader-wrapper\">\r\n    <div class=\"lds-facebook\">\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Loader\"\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.loader-wrapper {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n  min-height: 80px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.lds-facebook {\r\n  display: inline-block;\r\n  position: relative;\r\n  width: 80px;\r\n  height: 80px;\r\n}\r\n\r\n.lds-facebook div {\r\n  display: inline-block;\r\n  position: absolute;\r\n  left: 8px;\r\n  width: 16px;\r\n  background: #989692;\r\n  animation: lds-facebook 1.2s cubic-bezier(0, 0.5, 0.5, 1) infinite;\r\n}\r\n\r\n.lds-facebook div:nth-child(1) {\r\n  left: 8px;\r\n  animation-delay: -0.24s;\r\n}\r\n\r\n.lds-facebook div:nth-child(2) {\r\n  left: 32px;\r\n  animation-delay: -0.12s;\r\n}\r\n\r\n.lds-facebook div:nth-child(3) {\r\n  left: 56px;\r\n  animation-delay: 0;\r\n}\r\n\r\n@keyframes lds-facebook {\r\n  0% {\r\n    top: 8px;\r\n    height: 64px;\r\n  }\r\n  50%, 100% {\r\n    top: 24px;\r\n    height: 32px;\r\n  }\r\n}\r\n\r\n</style>","<template>\r\n  <div class=\"product-card\">\r\n    <div class=\"price\">{{ product.price }} руб.</div>\r\n    <div class=\"img\">\r\n      <img :src=\"getSrc(product.thumb)\" alt=\"\">\r\n    </div>\r\n    <div class=\"title\">{{ product.name }}</div>\r\n    <div class=\"text\">{{ product.text }}</div>\r\n    <div\r\n        v-if=\"!isInBasket\"\r\n        @click=\"addToCart\"\r\n        :class=\"[\r\n            'flex-between align-center card-link',\r\n            {'item-loading': loading}\r\n        ]\"\r\n    >\r\n      <span>Купить</span>\r\n      <svg width=\"12\" height=\"10\" viewBox=\"0 0 12 10\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <path d=\"M11.1665 4.81706L1.1665 4.81706\" stroke=\"#22252C\" stroke-width=\"1.5\" stroke-linecap=\"round\"\r\n              stroke-linejoin=\"round\"/>\r\n        <path d=\"M7.1333 0.800829L11.1666 4.81683L7.1333 8.8335\" stroke=\"#22252C\" stroke-width=\"1.5\"\r\n              stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n      </svg>\r\n      <Loader class=\"loader\" v-if=\"loading\"></Loader>\r\n    </div>\r\n    <div v-if=\"isInBasket\" class=\"flex-center align-center card-link\">\r\n      <QuantityInput class=\"quantity-input\" @input=\"handleQuantityChange\" v-model=\"getProductInBasket.quantity\"></QuantityInput>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport _ from 'lodash'\r\nimport {createImageUrl} from \"@/utils\";\r\nimport Loader from \"@/components/Loader\";\r\nimport QuantityInput from \"@/components/QuantityInput\";\r\n\r\nexport default {\r\n  name: \"ProductCard\",\r\n  props: ['product'],\r\n  components: {QuantityInput, Loader},\r\n  data: () => ({\r\n    loading: false\r\n  }),\r\n  computed: {\r\n    isInBasket() {\r\n      return this.$store.getters.basket.some(item => item.product.id === this.product.id)\r\n    },\r\n    getProductInBasket() {\r\n      return this.$store.getters.basket.find(item => item.product.id === this.product.id)\r\n    }\r\n  },\r\n  methods: {\r\n    handleQuantityChange: _.debounce(function(quantity) {\r\n      this.$store.dispatch('changeProductQuantity', {\r\n        productId: this.getProductInBasket.id,\r\n        quantity\r\n      })\r\n    }, 300),\r\n    getSrc(src) {\r\n      return createImageUrl(src)\r\n    },\r\n    async addToCart() {\r\n      this.loading = true\r\n      await this.$store.dispatch('addProductToBasket', this.product)\r\n      this.loading = false\r\n      await this.$store.dispatch('createNotification', 'Товар добавлен в корзину')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.card-link {\r\n  cursor: pointer;\r\n}\r\n.product-card:hover .quantity-input {\r\n  color: #fff;\r\n}\r\n.item-loading {\r\n  color: #abacb1 !important;\r\n}\r\n.loader {\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  left: 0;\r\n  background-color: rgba(0, 0, 0, .2);\r\n  z-index: 10;\r\n  min-height: 0;\r\n}\r\n</style>","<template>\r\n  <div\r\n      :class=\"[\r\n          'basket-item flex-between align-end',\r\n          {'basket-item-loading': loading}\r\n      ]\"\r\n  >\r\n    <div class=\"left\">\r\n      <div class=\"title\">{{ item.product.name }}</div>\r\n      <QuantityInput @input=\"handleQuantityChange\" v-model=\"item.quantity\"></QuantityInput>\r\n    </div>\r\n    <div class=\"right\">\r\n      <div class=\"price\">{{ item.product.price }} руб.</div>\r\n      <div @click=\"removeFromBasket\" class=\"delete\">\r\n        <span>Удалить</span>\r\n        <svg viewBox=\"0 0 12 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <path\r\n              d=\"M8 0.333008H4C3.26467 0.333008 2.66667 0.931008 2.66667 1.66634V2.33301H0V3.66634H1.33333V12.333C1.33333 13.0683 1.93133 13.6663 2.66667 13.6663H9.33333C10.0687 13.6663 10.6667 13.0683 10.6667 12.333V3.66634H12V2.33301H9.33333V1.66634C9.33333 0.931008 8.73533 0.333008 8 0.333008ZM4 1.66634H8V2.33301H4V1.66634ZM9.33333 12.333H2.66667V3.66634H9.33333V12.333Z\"\r\n              fill=\"#EB5757\"/>\r\n          <path d=\"M4 4.99967H5.33333V10.9997H4V4.99967Z\" fill=\"#EB5757\"/>\r\n          <path d=\"M6.66667 4.99967H8V10.9997H6.66667V4.99967Z\" fill=\"#EB5757\"/>\r\n        </svg>\r\n      </div>\r\n    </div>\r\n    <Loader class=\"loader\" v-if=\"loading\"></Loader>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport _ from 'lodash'\r\nimport QuantityInput from \"@/components/QuantityInput\";\r\nimport Loader from \"@/components/Loader\";\r\n\r\nexport default {\r\n  name: \"BasketItem\",\r\n  components: {QuantityInput, Loader},\r\n  props: ['item'],\r\n  data: () => ({\r\n    loading: false\r\n  }),\r\n  methods: {\r\n    handleQuantityChange: _.debounce(function(quantity) {\r\n      this.$store.dispatch('changeProductQuantity', {\r\n        productId: this.item.id,\r\n        quantity\r\n      })\r\n    }, 300),\r\n    async removeFromBasket() {\r\n      this.loading = true\r\n      await this.$store.dispatch('removeProductFromBasket', this.item.id)\r\n      await this.$store.dispatch('createNotification', 'Товар удален из корзины')\r\n      this.loading = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.basket-item-loading {\r\n  color: #abacb1 !important;\r\n  position: relative;\r\n}\r\n.loader {\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  left: 0;\r\n  background-color: rgba(0, 0, 0, .2);\r\n  z-index: 10;\r\n}\r\n</style>","<template>\r\n  <form :class=\"[\r\n      {'form-loading': loading}\r\n  ]\">\r\n    <Loader class=\"loader\" v-if=\"loading\"></Loader>\r\n    <div class=\"title\">Оформить заказ</div>\r\n    <Input\r\n        :disabled=\"!$store.getters.totalProducts || loading\"\r\n        type=\"text\"\r\n        name=\"name\"\r\n        placeholder=\"Екатерина\"\r\n        label=\"Ваше имя\"\r\n        v-model=\"form.name\"\r\n    />\r\n    <Input\r\n        :disabled=\"!$store.getters.totalProducts || loading\"\r\n        type=\"text\"\r\n        name=\"name\"\r\n        placeholder=\"+7 999 999 99 99\"\r\n        label=\"Ваш телефон\"\r\n        v-model=\"form.phone\"\r\n        mask=\"phone\"\r\n    />\r\n    <Input\r\n        :disabled=\"!$store.getters.totalProducts || loading\"\r\n        type=\"email\"\r\n        name=\"name\"\r\n        placeholder=\"example@mail.ru\"\r\n        label=\"ваш email\"\r\n        v-model=\"form.email\"\r\n    />\r\n    <button\r\n        :disabled=\"!$store.getters.totalProducts || loading || !isValid\"\r\n        class=\"btn\"\r\n        @click=\"submit\"\r\n    >\r\n      заказать\r\n    </button>\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nimport Input from \"@/components/Input\";\r\nimport Loader from \"@/components/Loader\";\r\n\r\nexport default {\r\n  name: \"Form\",\r\n  components: {Input, Loader},\r\n  computed: {\r\n    isValid() {\r\n      return !!this.form.phone\r\n    }\r\n  },\r\n  data: () => ({\r\n    loading: false,\r\n    form: {\r\n      name: '',\r\n      phone: '',\r\n      email: ''\r\n    }\r\n  }),\r\n  methods: {\r\n    async submit() {\r\n      this.loading = true\r\n      await this.$store.dispatch('submit', this.form)\r\n      await this.$store.dispatch('createNotification', 'Заказ успешно создан. Мы свяжемся с вами в ближайшее время')\r\n      await this.$store.dispatch('fetchBasket')\r\n      this.clearForm()\r\n      this.loading = false\r\n    },\r\n    clearForm() {\r\n      this.form = {\r\n        name: '',\r\n        phone: '',\r\n        email: ''\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.form-loading {\r\n  position: relative;\r\n}\r\n\r\n.loader {\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  left: 0;\r\n  background-color: rgba(0, 0, 0, .2);\r\n  z-index: 10;\r\n}\r\n</style>","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.icon {\n  position: relative; }\nsvg {\n  width: 20px;\n  height: 20px;\n  position: relative;\n  top: 3px; }\n.text {\n  margin-left: 10px;\n  font-size: 16px; }\n.count {\n  position: absolute;\n  bottom: -1px;\n  right: -6px;\n  border-radius: 50%;\n  background-color: #22252c;\n  width: 15px;\n  height: 15px;\n  text-align: center;\n  font-size: 12px;\n  font-weight: bold;\n  color: #fff; }\na {\n  margin-bottom: 30px;\n  display: block; }\n","<template>\r\n  <div>\r\n    <section class=\"block1 block1-short block1-shop\">\r\n      <img v-if=\"this.$vssWidth > 1170\" src=\"/static/img/shop/1/bg.png\" alt=\"\" class=\"bg\">\r\n      <img v-if=\"this.$vssWidth <= 1170\" src=\"/static/img/shop/1/bg-m.png\" alt=\"\" class=\"bg\">\r\n      <div class=\"container\">\r\n        <h1>Профессиональная <br>косметика для ухода <br>за волосами</h1>\r\n        <ul class=\"flex-start align-center\">\r\n          <li>Отправка заказа в тот же день</li>\r\n          <li>В наличии на складе</li>\r\n          <li>Доступные цены</li>\r\n          <li>Оптовые скидки</li>\r\n        </ul>\r\n        <button @click=\"goto('shop')\" class=\"btn\">Смотреть продукцию</button>\r\n      </div>\r\n    </section>\r\n    <section ref=\"shop\" class=\"shop\">\r\n      <div class=\"container\">\r\n        <ToBasketLink v-if=\"this.$vssWidth <= 1170\"></ToBasketLink>\r\n        <div class=\"tabs\" v-if=\"this.$vssWidth > 1170 && !categoriesLoading\">\r\n          <div\r\n              :class=\"[\r\n                  'tab',\r\n                  {'active': category.id === currentCategoryId}\r\n              ]\"\r\n              v-for=\"category in categories\"\r\n              :key=\"category.id\"\r\n              @click=\"currentCategoryId = category.id\"\r\n          >\r\n            <span>{{ category.name }}</span>\r\n          </div>\r\n        </div>\r\n        <VueSlickCarousel\r\n            v-if=\"this.$vssWidth <= 1170 && !categoriesLoading\"\r\n            class=\"tabs\"\r\n            :arrows=\"false\"\r\n            :dots=\"false\"\r\n            :draggable=\"true\"\r\n            :swipe=\"true\"\r\n            :variableWidth=\"true\"\r\n            :adaptiveHeight=\"true\"\r\n        >\r\n          <div\r\n              :class=\"[\r\n                  'tab',\r\n                  {'active': category.id === currentCategoryId}\r\n              ]\"\r\n              v-for=\"category in categories\"\r\n              :key=\"category.id\"\r\n              @click=\"currentCategoryId = category.id\"\r\n          >\r\n            <span>{{ category.name }}</span>\r\n          </div>\r\n        </VueSlickCarousel>\r\n        <Loader class=\"loader\" v-if=\"categoriesLoading\"></Loader>\r\n\r\n        <div class=\"shop-flex flex-between align-start\">\r\n          <div class=\"shop-products__wrapper\">\r\n            <div\r\n                :class=\"[\r\n                    'shop-products',\r\n                    {'shop-products-loading': productsLoading}\r\n                    ]\"\r\n            >\r\n              <Loader class=\"products-loader\" v-if=\"productsLoading\"></Loader>\r\n              <ProductCard\r\n                  v-for=\"product in products\"\r\n                  :key=\"product.id\"\r\n                  :product=\"product\"\r\n              ></ProductCard>\r\n            </div>\r\n\r\n            <div v-if=\"nextPage !== -1 && products.length > 0\" @click=\"getProducts\" class=\"show-button flex-center align-center\">\r\n              <span>Показать еще</span>\r\n              <div class=\"wrap\">\r\n                <svg width=\"12\" height=\"10\" viewBox=\"0 0 12 10\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path d=\"M11.168 4.81706L1.16797 4.81706\" stroke=\"#22252C\" stroke-width=\"1.5\" stroke-linecap=\"round\"\r\n                        stroke-linejoin=\"round\"/>\r\n                  <path d=\"M7.13477 0.800829L11.1681 4.81683L7.13477 8.8335\" stroke=\"#22252C\" stroke-width=\"1.5\"\r\n                        stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                </svg>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <Basket v-if=\"this.$vssWidth > 1170\"></Basket>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport VueSlickCarousel from 'vue-slick-carousel'\r\nimport 'vue-slick-carousel/dist/vue-slick-carousel.css'\r\nimport ProductCard from \"@/components/ProductCard\";\r\nimport Basket from \"@/components/Basket/index\";\r\nimport ToBasketLink from \"@/components/ToBasketLink\";\r\nimport Loader from \"@/components/Loader\";\r\nimport api from \"@/api\"\r\n\r\nexport default {\r\n  name: \"Shop\",\r\n  components: {VueSlickCarousel, ProductCard, Basket, ToBasketLink, Loader},\r\n  data: () => ({\r\n    categoriesLoading: false,\r\n    productsLoading: false,\r\n    currentCategoryId: null,\r\n    nextPage: null,\r\n    categories: [],\r\n    products: []\r\n  }),\r\n  methods: {\r\n    goto(refName) {\r\n      const top = this.$refs[refName].offsetTop;\r\n      window.scrollTo(0, top);\r\n    },\r\n    async getCategories() {\r\n      this.categoriesLoading = true\r\n      this.categories = await api.getShopCategories()\r\n      this.currentCategoryId = this.categories[0].id\r\n      this.categoriesLoading = false\r\n    },\r\n    async getProducts() {\r\n      this.productsLoading = true\r\n      const {data, next_page} = await api.getProducts(this.currentCategoryId, this.nextPage)\r\n      this.products.push(...data)\r\n      this.nextPage = next_page\r\n      this.productsLoading = false\r\n    }\r\n  },\r\n  watch: {\r\n    currentCategoryId() {\r\n      if (this.currentCategoryId !== null) {\r\n        this.products.length = 0\r\n        this.nextPage = null\r\n        this.getProducts()\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.getCategories()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.loader {\r\n  margin-bottom: 40px;\r\n}\r\n\r\n.show-button {\r\n  margin-top: 60px;\r\n}\r\n\r\n.products-loader {\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  left: 0;\r\n  background-color: rgba(0, 0, 0, .2);\r\n  z-index: 10;\r\n}\r\n\r\n.shop-products {\r\n  position: relative;\r\n}\r\n\r\n.shop-products-loading {\r\n  opacity: .3;\r\n}\r\n</style>"]}