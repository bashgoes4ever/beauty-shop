{"version":3,"sources":["webpack:///src/components/src/components/Loader.vue","webpack:///src/components/Basket/src/components/Basket/BasketItem.vue","webpack:///src/components/Basket/src/components/Basket/Form.vue"],"names":[],"mappings":"AAiBA,iCACA,iBAAA,CACA,UAAA,CACA,WAAA,CACA,eAAA,CACA,YAAA,CACA,sBAAA,CACA,kBACA,CACA,+BACA,oBAAA,CACA,iBAAA,CACA,UAAA,CACA,WACA,CAEA,mCACA,oBAAA,CACA,iBAAA,CACA,QAAA,CACA,UAAA,CACA,kBAAA,CACA,oFAAA,CAAA,4EACA,CAEA,+CACA,QAAA,CACA,6BAAA,CAAA,qBACA,CAEA,gDACA,SAAA,CACA,6BAAA,CAAA,qBACA,CAEA,gDACA,SAAA,CACA,yBAAA,CAAA,iBACA,CAEA,gDACA,GACA,OAAA,CACA,WACA,CACA,OACA,QAAA,CACA,WACA,CACA,CATA,wCACA,GACA,OAAA,CACA,WACA,CACA,OACA,QAAA,CACA,WACA,CACA,CCRA,sCACA,uBAAA,CACA,iBACA,CACA,yBACA,iBAAA,CACA,KAAA,CACA,QAAA,CACA,OAAA,CACA,MAAA,CACA,+BAAA,CACA,UACA,CCYA,+BACA,iBACA,CAEA,yBACA,iBAAA,CACA,KAAA,CACA,QAAA,CACA,OAAA,CACA,MAAA,CACA,+BAAA,CACA,UACA","file":"chunk-26c8f856.0b39968f.css","sourcesContent":["<template>\r\n  <div class=\"loader-wrapper\">\r\n    <div class=\"lds-facebook\">\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Loader\"\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.loader-wrapper {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n  min-height: 80px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.lds-facebook {\r\n  display: inline-block;\r\n  position: relative;\r\n  width: 80px;\r\n  height: 80px;\r\n}\r\n\r\n.lds-facebook div {\r\n  display: inline-block;\r\n  position: absolute;\r\n  left: 8px;\r\n  width: 16px;\r\n  background: #989692;\r\n  animation: lds-facebook 1.2s cubic-bezier(0, 0.5, 0.5, 1) infinite;\r\n}\r\n\r\n.lds-facebook div:nth-child(1) {\r\n  left: 8px;\r\n  animation-delay: -0.24s;\r\n}\r\n\r\n.lds-facebook div:nth-child(2) {\r\n  left: 32px;\r\n  animation-delay: -0.12s;\r\n}\r\n\r\n.lds-facebook div:nth-child(3) {\r\n  left: 56px;\r\n  animation-delay: 0;\r\n}\r\n\r\n@keyframes lds-facebook {\r\n  0% {\r\n    top: 8px;\r\n    height: 64px;\r\n  }\r\n  50%, 100% {\r\n    top: 24px;\r\n    height: 32px;\r\n  }\r\n}\r\n\r\n</style>","<template>\r\n  <div\r\n      :class=\"[\r\n          'basket-item flex-between align-end',\r\n          {'basket-item-loading': loading}\r\n      ]\"\r\n  >\r\n    <div class=\"left\">\r\n      <div class=\"title\">{{ item.product.name }}</div>\r\n      <QuantityInput @input=\"handleQuantityChange\" v-model=\"item.quantity\"></QuantityInput>\r\n    </div>\r\n    <div class=\"right\">\r\n      <div class=\"price\">{{ item.product.price }} руб.</div>\r\n      <div @click=\"removeFromBasket\" class=\"delete\">\r\n        <span>Удалить</span>\r\n        <svg viewBox=\"0 0 12 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <path\r\n              d=\"M8 0.333008H4C3.26467 0.333008 2.66667 0.931008 2.66667 1.66634V2.33301H0V3.66634H1.33333V12.333C1.33333 13.0683 1.93133 13.6663 2.66667 13.6663H9.33333C10.0687 13.6663 10.6667 13.0683 10.6667 12.333V3.66634H12V2.33301H9.33333V1.66634C9.33333 0.931008 8.73533 0.333008 8 0.333008ZM4 1.66634H8V2.33301H4V1.66634ZM9.33333 12.333H2.66667V3.66634H9.33333V12.333Z\"\r\n              fill=\"#EB5757\"/>\r\n          <path d=\"M4 4.99967H5.33333V10.9997H4V4.99967Z\" fill=\"#EB5757\"/>\r\n          <path d=\"M6.66667 4.99967H8V10.9997H6.66667V4.99967Z\" fill=\"#EB5757\"/>\r\n        </svg>\r\n      </div>\r\n    </div>\r\n    <Loader class=\"loader\" v-if=\"loading\"></Loader>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport _ from 'lodash'\r\nimport QuantityInput from \"@/components/QuantityInput\";\r\nimport Loader from \"@/components/Loader\";\r\n\r\nexport default {\r\n  name: \"BasketItem\",\r\n  components: {QuantityInput, Loader},\r\n  props: ['item'],\r\n  data: () => ({\r\n    loading: false\r\n  }),\r\n  methods: {\r\n    handleQuantityChange: _.debounce(function(quantity) {\r\n      this.$store.dispatch('changeProductQuantity', {\r\n        productId: this.item.id,\r\n        quantity\r\n      })\r\n    }, 300),\r\n    async removeFromBasket() {\r\n      this.loading = true\r\n      await this.$store.dispatch('removeProductFromBasket', this.item.id)\r\n      await this.$store.dispatch('createNotification', 'Товар удален из корзины')\r\n      this.loading = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.basket-item-loading {\r\n  color: #abacb1 !important;\r\n  position: relative;\r\n}\r\n.loader {\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  left: 0;\r\n  background-color: rgba(0, 0, 0, .2);\r\n  z-index: 10;\r\n}\r\n</style>","<template>\r\n  <form :class=\"[\r\n      {'form-loading': loading}\r\n  ]\">\r\n    <Loader class=\"loader\" v-if=\"loading\"></Loader>\r\n    <div class=\"title\">Оформить заказ</div>\r\n    <Input\r\n        :disabled=\"!$store.getters.totalProducts || loading\"\r\n        type=\"text\"\r\n        name=\"name\"\r\n        placeholder=\"Екатерина\"\r\n        label=\"Ваше имя\"\r\n        v-model=\"form.name\"\r\n    />\r\n    <Input\r\n        :disabled=\"!$store.getters.totalProducts || loading\"\r\n        type=\"text\"\r\n        name=\"name\"\r\n        placeholder=\"+7 999 999 99 99\"\r\n        label=\"Ваш телефон\"\r\n        v-model=\"form.phone\"\r\n        mask=\"phone\"\r\n    />\r\n    <Input\r\n        :disabled=\"!$store.getters.totalProducts || loading\"\r\n        type=\"email\"\r\n        name=\"name\"\r\n        placeholder=\"example@mail.ru\"\r\n        label=\"ваш email\"\r\n        v-model=\"form.email\"\r\n    />\r\n    <button\r\n        :disabled=\"!$store.getters.totalProducts || loading || !isValid\"\r\n        class=\"btn\"\r\n        @click=\"submit\"\r\n    >\r\n      заказать\r\n    </button>\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nimport Input from \"@/components/Input\";\r\nimport Loader from \"@/components/Loader\";\r\n\r\nexport default {\r\n  name: \"Form\",\r\n  components: {Input, Loader},\r\n  computed: {\r\n    isValid() {\r\n      return !!this.form.phone\r\n    }\r\n  },\r\n  data: () => ({\r\n    loading: false,\r\n    form: {\r\n      name: '',\r\n      phone: '',\r\n      email: ''\r\n    }\r\n  }),\r\n  methods: {\r\n    async submit() {\r\n      this.loading = true\r\n      await this.$store.dispatch('submit', this.form)\r\n      await this.$store.dispatch('createNotification', 'Заказ успешно создан. Мы свяжемся с вами в ближайшее время')\r\n      await this.$store.dispatch('fetchBasket')\r\n      this.clearForm()\r\n      this.loading = false\r\n    },\r\n    clearForm() {\r\n      this.form = {\r\n        name: '',\r\n        phone: '',\r\n        email: ''\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.form-loading {\r\n  position: relative;\r\n}\r\n\r\n.loader {\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  left: 0;\r\n  background-color: rgba(0, 0, 0, .2);\r\n  z-index: 10;\r\n}\r\n</style>"]}